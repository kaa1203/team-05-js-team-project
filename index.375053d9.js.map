{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,aAGA,IAAIC,SAAEC,EAAQC,IAAEC,EAAGC,cAAEC,EAAaC,EAAEC,GAAMT,EAAAU,OAAOC,OAGjD,MAAMC,EAAYC,SAASC,cAAc,aACnCC,EAAaF,SAASC,cAAc,cAE1CC,EAAWC,iBAAiB,SAmC5B,WACI,IAAIC,EAAYF,EAAWG,uBAAuBA,uBAElDD,EAAUE,MAAQ,GAClBF,EAAUG,QACVC,KAAKC,UAAUC,IAAI,Y,IAvCvBX,EAAUI,iBAAiB,UAI3BQ,eAA4BC,GACxBA,EAAEC,iBACF,MAAMC,WAAEA,GAAeF,EAAEG,OACzBnB,EAAIkB,EAAWR,MAEf,IACI,IAAIU,QAAaC,MAAM,GAAG9B,EAAA+B,iCAAiC1B,cAAgBF,WAAkBM,mBAAmBF,KAC5GyB,QAAaH,EAAII,OAEJ,KAAbxB,EAAEyB,UACF,EAAAC,EAAAC,aAAYJ,EAAKK,SAAS,GAC1BV,EAAWR,MAAQ,GACnBJ,EAAWO,UAAUC,IAAI,a,CAE/B,MAAOe,GACLC,QAAQC,IAAIF,E,KAlBpB1B,EAAUI,iBAAiB,SAsB3B,SAAiBS,GAGK,KAFFA,EAAEG,OAAOT,MAGrBJ,EAAWO,UAAUmB,OAAO,aAE5B1B,EAAWO,UAAUC,IAAI,Y","sources":["src/search.js"],"sourcesContent":["import { BASE_URL, params } from \"./themoviedb-api.js\";\nimport { createCards, movieGalleryEl } from \"./index.js\";\n\nlet { language, key, include_adult, q } = params.option;\n\n\nconst navFormEl = document.querySelector(\".nav-form\");\nconst delInputEl = document.querySelector(\".del-input\");\n\ndelInputEl.addEventListener(\"click\", delClicked);\nnavFormEl.addEventListener(\"submit\", searchMovies); \nnavFormEl.addEventListener(\"keyup\", onInput);\n\n// still shows \"sussy\" movies even the include_adult was set to false\nasync function searchMovies(e) {\n    e.preventDefault();\n    const { search_bar } = e.target;\n    q = search_bar.value;\n\n    try {\n        let res =  await fetch(`${BASE_URL}/search/movie?api_key=${key}&language=${language}&query=${q}&include_adult=${include_adult}`);\n        let data = await res.json();\n        \n        if (q.trim() !== \"\") {\n            createCards(data.results, true);\n            search_bar.value = \"\";\n            delInputEl.classList.add(\"is-hidden\");\n        }\n    } catch (e) {\n        console.log(e);\n    } \n}\n\nfunction onInput(e) {\n    let userInput = e.target.value;\n\n    if (userInput !== \"\") {\n        delInputEl.classList.remove(\"is-hidden\");\n    } else {\n        delInputEl.classList.add(\"is-hidden\");\n    }\n\n}\n\nfunction delClicked() {\n    let userInput = delInputEl.previousElementSibling.previousElementSibling;\n\n    userInput.value = \"\";\n    userInput.focus();\n    this.classList.add(\"is-hidden\");\n}\n"],"names":["$9hI1i","parcelRequire","language","$fa7a4a927814728b$var$language","key","$fa7a4a927814728b$var$key","include_adult","$fa7a4a927814728b$var$include_adult","q","$fa7a4a927814728b$var$q","params","option","$fa7a4a927814728b$var$navFormEl","document","querySelector","$fa7a4a927814728b$var$delInputEl","addEventListener","userInput","previousElementSibling","value","focus","this","classList","add","async","e","preventDefault","search_bar","target","res","fetch","BASE_URL","data","json","trim","$2Fivl","createCards","results","e1","console","log","remove"],"version":3,"file":"index.375053d9.js.map"}