{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,uCAE0BC,EAAAC,EAAAC,OAAOC,OAAzBC,EAAkBJ,EAAlBK,SAAUC,EAAQN,EAARO,IAEZC,EAAsBC,SAASC,eAAe,oBAC9CC,EAAaF,SAASC,eAAe,QACrCE,EAAaH,SAASC,eAAe,QAEvCG,EAAa,GACbC,EAAc,E,SAGHC,EAAkBC,EAAMC,G,OAAxBC,EAAiBC,MAAAC,KAAAC,U,UAAjBH,I,OAAAA,EAAfI,EAAAxB,EAAA,CAAAwB,EAAAC,GAAAC,MAAA,SAAAC,EAAiCT,EAAMC,G,IAE7BS,EAGAC,E,2FAHYC,MAChB,GAA0CC,OAAvC5B,EAAA6B,SAAS,gCAA8CD,OAAhBvB,EAAI,cAA6BuB,OAAjBzB,EAAS,UAA0ByB,OAAlBb,EAAK,eAAsBa,OAATZ,I,cADzFS,EAAGK,EAAAC,K,SAGUN,EAAIO,O,cAAjBN,EAAII,EAAAC,K,kBACHL,G,QAGP,M,0BADAO,QAAQC,MAAM,kCAAuCN,OAALb,EAAK,KAAEe,EAAAK,IACvDL,EAAAK,G,2DAT4BjB,MAAAC,KAAAC,U,UAajBgB,I,OAAAC,EAAqBnB,MAAAC,KAAAC,U,UAArBiB,I,OAAAA,EAAfhB,EAAAxB,EAAA,CAAAwB,EAAAC,GAAAC,MAAA,SAAAC,I,IAEUc,E,2FAAmBxB,EACvBD,EACgB,IAAhBA,EAAoB,GAnBT,I,OAiBPyB,EAAUR,EAAAC,KAIhBnB,EAAa0B,EAAWC,aACxB,EAAAC,EAAAC,aAAYH,EAAWI,SAAS,GAChCC,I,gDAEAV,QAAQC,MAAM,uCAAsCJ,EAAAK,I,0DAVpBjB,MAAAC,KAAAC,U,CAcpC,SAASuB,IAEP,IAAIC,EAAWC,EADftC,EAAoBuC,UAAY,GAG5BjC,EAAc,IAAO,GACvB+B,EAAY/B,EACZgC,EAAUE,KAAKC,IAAInC,EAAc,EAAGD,KAEpCgC,EAAiD,GAArCG,KAAKE,OAAOpC,EAAc,GAAK,IAAW,EACtDgC,EAAUE,KAAKC,IAAIJ,EAAY,EAAGhC,IAGpC,IAAK,IAAIsC,EAAIN,EAAWM,GAAKL,EAASK,IAAK,CACzC,IAAMC,EAAO3C,SAAS4C,cAAc,KACpCD,EAAKE,KAAO,IACZF,EAAKG,YAAcJ,EAEfA,IAAMrC,GACRsC,EAAKI,UAAUC,IAAI,UAGrBL,EAAKM,iBAAiB,SAAS,SAAUC,GACvCA,EAAMC,iBACN9C,EAAc+C,SAASzC,KAAKmC,aAC5BlB,G,IAEF7B,EAAoBsD,YAAYV,E,EAIpCzC,EAAW+C,iBAAiB,SAAS,WAC/B5C,EAAc,GAChBA,GAAe,GAEfA,EAAc,EAEhBuB,G,IAGFzB,EAAW8C,iBAAiB,SAAS,WAC/B5C,EAAc,IAAMD,EACtBC,GAAe,GAEfA,EAAc,EAEhBuB,G,IAIFO,G","sources":["src/pagination.js"],"sourcesContent":["import { createCards } from './index.js'\nimport { BASE_URL, params } from './themoviedb-api.js';\nconst { language, key } = params.option;\n\nconst paginationContainer = document.getElementById('pagination-links');\nconst prevButton = document.getElementById('prev');\nconst nextButton = document.getElementById('next');\n\nlet totalPages = 20;\nlet currentPage = 1;\nconst pageSize = 50;\n\nasync function fetchMoviesByPage(page, pageSize) {\n  try {\n    const res = await fetch(\n      `${BASE_URL}/trending/movie/day?api_key=${key}&language=${language}&page=${page}&page_size=${pageSize}`\n    );\n    const data = await res.json();\n    return data;\n  } catch (error) {\n    console.error(`Error fetching movies for page ${page}:`, error);\n    throw error;\n  }\n}\n\nasync function fetchAndDisplayMovies() {\n  try {\n    const moviesData = await fetchMoviesByPage(\n      currentPage,\n      currentPage === 1 ? 20 : pageSize\n    );\n    totalPages = moviesData.total_pages;\n    createCards(moviesData.results, true);\n    generatePaginationLinks();\n  } catch (error) {\n    console.error('Error fetching or displaying movies:', error);\n  }\n}\n\nfunction generatePaginationLinks() {\n  paginationContainer.innerHTML = '';\n  let startPage, endPage;\n\n  if (currentPage % 10 === 1) {\n    startPage = currentPage;\n    endPage = Math.min(currentPage + 9, totalPages);\n  } else {\n    startPage = Math.floor((currentPage - 1) / 10) * 10 + 1;\n    endPage = Math.min(startPage + 9, totalPages);\n  }\n\n  for (let i = startPage; i <= endPage; i++) {\n    const link = document.createElement('a');\n    link.href = '#';\n    link.textContent = i;\n\n    if (i === currentPage) {\n      link.classList.add('active');\n    }\n\n    link.addEventListener('click', function (event) {\n      event.preventDefault();\n      currentPage = parseInt(this.textContent);\n      fetchAndDisplayMovies();\n    });\n    paginationContainer.appendChild(link);\n  }\n}\n\nprevButton.addEventListener('click', function () {\n  if (currentPage > 10) {\n    currentPage -= 10;\n  } else {\n    currentPage = 1;\n  }\n  fetchAndDisplayMovies();\n});\n\nnextButton.addEventListener('click', function () {\n  if (currentPage + 10 <= totalPages) {\n    currentPage += 10;\n  } else {\n    currentPage = 1;\n  }\n  fetchAndDisplayMovies();\n});\n\n// document.addEventListener('DOMContentLoaded', fetchAndDisplayMovies);\ngeneratePaginationLinks();\n"],"names":["$bpxeT","parcelRequire","$a05c08abba1959c4$var$_option","$7Omtz","params","option","$a05c08abba1959c4$var$language","language","$a05c08abba1959c4$var$key","key","$a05c08abba1959c4$var$paginationContainer","document","getElementById","$a05c08abba1959c4$var$prevButton","$a05c08abba1959c4$var$nextButton","$a05c08abba1959c4$var$totalPages","$a05c08abba1959c4$var$currentPage","$a05c08abba1959c4$var$fetchMoviesByPage","page","pageSize1","$a05c08abba1959c4$var$_fetchMoviesByPage","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","res","data","fetch","concat","BASE_URL","_ctx","sent","json","console","error","t0","$a05c08abba1959c4$var$fetchAndDisplayMovies","$a05c08abba1959c4$var$_fetchAndDisplayMovies","moviesData","total_pages","$fSCrk","createCards","results","$a05c08abba1959c4$var$generatePaginationLinks","startPage","endPage","innerHTML","Math","min","floor","i","link","createElement","href","textContent","classList","add","addEventListener","event","preventDefault","parseInt","appendChild"],"version":3,"file":"index.a876db68.js.map"}