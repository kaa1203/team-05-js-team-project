var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequire902a;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,a.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequire902a=a);var i=a("9hI1i");const{language:o,key:r}=i.params.option,l=document.querySelector(".movie-list"),s=document.getElementById("pagination-links"),c=document.getElementById("prev"),d=document.getElementById("next");let p=20,m=1;async function g(e,t){try{await fetch(`${i.BASE_URL}/trending/movie/day?api_key=${r}&language=${o}&page=${e}&page_size=${t}`);const n=await response.json();movieData=n.results.map((e=>({title:e.title,poster_path:e.poster_path,genre:e.genre_ids.map((e=>genreMap[e])),year:e.release_date?new Date(e.release_date).getFullYear():"N/A"}))),function(e,t,n,a){t.innerHTML="",a--;const i=n*a,o=i+n,r=e.slice(i,o);for(let e=0;e<r.length;e++){const n=r[e],a=document.createElement("li"),i=document.createElement("img");i.src=imageBaseUrl+n.poster_path,i.alt=n.title,i.style.borderRadius="5px",a.appendChild(i);const o=document.createElement("div");o.textContent=n.title,a.appendChild(o);const l=document.createElement("div");l.style.display="flex";const s=document.createElement("div");s.textContent=n.genre.join(", "),s.style.color="#ff6b08",l.appendChild(s);const c=document.createElement("span");c.textContent=" | ",c.style.color="#ff6b08",l.appendChild(c);const d=document.createElement("div");d.textContent=n.year,d.style.color="#ff6b08",l.appendChild(d),a.appendChild(l),t.appendChild(a)}}(movieData,list,itemsPerPage,1),function(e,t,n){t.innerHTML="";const a=Math.ceil(e.length/n);for(let e=1;e<=a;e++)e===m&&link.classList.add("active"),link.addEventListener("click",(function(e){e.preventDefault(),m=parseInt(this.textContent),u()})),s.appendChild(link)}(movieData,paginationLinksWrapper,itemsPerPage)}catch(t){throw console.error(`Error fetching movies for page ${e}:`,t),t}}async function u(){try{const e=await g(m,1===m?20:50);p=e.total_pages,async function(e){l.innerHTML="";for(const t of e){const{id:e,popularity:n,poster_path:a,original_title:i,title:o,release_date:r,overview:s,genre_ids:c,vote_average:d,vote_count:p}=t;try{const t=await f(c),m=r.split("-"),g=`\n        <li class="movie-item" data-id=${e}>\n          <a href="https://image.tmdb.org/t/p/w500/${a}" class="movie-link">\n            <div class="movie-card" data-popularity=${n.toFixed(1)}>\n              <img src="https://image.tmdb.org/t/p/w500/${a}" alt="${s}">\n              <div class="movie-details">\n                <p class="movie-title" data-title="${i}">${o}</p>\n                <span>${t.map((e=>` ${e}`))}</span>\n                <span data-year="${m[0]}">| ${m[0]}</span>\n                <p data-count="${p}">${d.toFixed(1)}</p>\n              </div>\n            </div>\n          </a>\n        </li>\n      `;l.insertAdjacentHTML("afterbegin",g)}catch(e){console.error("Error creating movie cards:",e)}}}(e.results),h()}catch(e){console.error("Error fetching or displaying movies:",e)}}async function f(e){try{const t=await fetchGenres();return t.filter((t=>e.includes(t.id))).map((e=>e.name))}catch(e){throw console.error("Error getting genres:",e),e}}function h(){s.innerHTML="";const e=Math.max(1,Math.min(m-4,p-9)),t=Math.min(e+9,p);for(let n=e;n<=t;n++)console.error("Error fetching movie data:",error)}c.addEventListener("click",(function(){m>10?m-=10:m=1,u()})),d.addEventListener("click",(function(){m+10<=p?m+=10:m=p,u()})),window.addEventListener("DOMContentLoaded",u),function(){let e=localStorage.getItem("watchList"),t=localStorage.getItem("queueList");null!==e&&0!==e.length||localStorage.setItem("watchList","[]"),null!==t&&0!==e.length||localStorage.setItem("queueList","[]")}(),h();
//# sourceMappingURL=index.832d06ac.js.map
