!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequire902a;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){r[e]=t},t.parcelRequire902a=a);var c,o,i=a("bpxeT"),s=a("2TvXO"),u=a("7Omtz"),l=u.params.option,p=l.language,d=l.key,f=document.querySelector(".movie-list"),v=document.getElementById("pagination-links"),h=document.getElementById("prev"),g=document.getElementById("next"),m=20,x=1;function w(){return y.apply(this,arguments)}function y(){return(y=e(i)(e(s).mark((function t(){var n,r;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(d));case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r.genres);case 10:throw e.prev=10,e.t0=e.catch(0),console.error("Error fetching genres:",e.t0),e.t0;case 14:case"end":return e.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}function b(e,t){return k.apply(this,arguments)}function k(){return(k=e(i)(e(s).mark((function t(n,r){var a,c;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(u.BASE_URL,"/trending/movie/day?api_key=").concat(d,"&language=").concat(p,"&page=").concat(n,"&page_size=").concat(r));case 3:return a=e.sent,e.next=6,a.json();case 6:return c=e.sent,e.abrupt("return",c);case 10:throw e.prev=10,e.t0=e.catch(0),console.error("Error fetching movies for page ".concat(n,":"),e.t0),e.t0;case 14:case"end":return e.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}function E(){return L.apply(this,arguments)}function L(){return(L=e(i)(e(s).mark((function t(){var n;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b(x,1===x?20:50);case 3:n=e.sent,m=n.total_pages,I(n.results),S(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching or displaying movies:",e.t0);case 12:case"end":return e.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function _(e){return M.apply(this,arguments)}function M(){return(M=e(i)(e(s).mark((function t(n){var r,a;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w();case 3:return r=e.sent,a=r.filter((function(e){return n.includes(e.id)})).map((function(e){return e.name})),e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),console.error("Error getting genres:",e.t0),e.t0;case 12:case"end":return e.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function I(e){return T.apply(this,arguments)}function T(){return(T=e(i)(e(s).mark((function t(n){var r,a,c,o,i,u,l,p,d,v,h,g,m,x,w,y,b,k,E;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.innerHTML="",r=!0,a=!1,c=void 0,e.prev=2,o=n[Symbol.iterator]();case 4:if(r=(i=o.next()).done){e.next=22;break}return u=i.value,l=u.id,p=u.popularity,d=u.poster_path,v=u.original_title,h=u.title,g=u.release_date,m=u.overview,x=u.genre_ids,w=u.vote_average,y=u.vote_count,e.prev=7,e.next=10,_(x);case 10:b=e.sent,k=g.split("-"),E='\n        <li class="movie-item" data-id='.concat(l,'>\n          <a href="https://image.tmdb.org/t/p/w500/').concat(d,'" class="movie-link">\n            <div class="movie-card" data-popularity=').concat(p.toFixed(1),'>\n              <img src="https://image.tmdb.org/t/p/w500/').concat(d,'" alt="').concat(m,'">\n              <div class="movie-details">\n                <p class="movie-title" data-title="').concat(v,'">').concat(h,"</p>\n                <span>").concat(b.map((function(e){return" ".concat(e)})),'</span>\n                <span data-year="').concat(k[0],'">| ').concat(k[0],'</span>\n                <p data-count="').concat(y,'">').concat(w.toFixed(1),"</p>\n              </div>\n            </div>\n          </a>\n        </li>\n      "),f.insertAdjacentHTML("afterbegin",E),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(7),console.error("Error creating movie cards:",e.t0);case 19:r=!0,e.next=4;break;case 22:e.next=28;break;case 24:e.prev=24,e.t1=e.catch(2),a=!0,c=e.t1;case 28:e.prev=28,e.prev=29,r||null==o.return||o.return();case 31:if(e.prev=31,!a){e.next=34;break}throw c;case 34:return e.finish(31);case 35:return e.finish(28);case 36:case"end":return e.stop()}}),t,null,[[2,24,28,36],[7,16],[29,,31,35]])})))).apply(this,arguments)}function S(){var e,t;v.innerHTML="",x%10==1?(e=x,t=Math.min(x+9,m)):(e=10*Math.floor((x-1)/10)+1,t=Math.min(e+9,m));for(var n=e;n<=t;n++){var r=document.createElement("a");r.href="#",r.textContent=n,n===x&&r.classList.add("active"),r.addEventListener("click",(function(e){e.preventDefault(),x=parseInt(this.textContent),E()})),v.appendChild(r)}}h.addEventListener("click",(function(){x>10?x-=10:x=1,E()})),g.addEventListener("click",(function(){x+10<=m?x+=10:x=1,E()})),window.addEventListener("DOMContentLoaded",E),c=localStorage.getItem("watchList"),o=localStorage.getItem("queueList"),null!==c&&0!==c.length||localStorage.setItem("watchList","[]"),null!==o&&0!==o.length||localStorage.setItem("queueList","[]"),S(),v.insertBefore(v.children[9],null)}();
//# sourceMappingURL=index.4b27c25a.js.map
