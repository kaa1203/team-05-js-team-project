!function(){function e(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},a=t.parcelRequire902a;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){i[e]=t},t.parcelRequire902a=a),a.register("79hBg",(function(t,n){e(t.exports,"movieCon",(function(){return i})),e(t.exports,"movieClicked",(function(){return l}));var i=document.querySelector(".movie-list"),a=document.getElementsByClassName("overlay");function l(e){if(e.preventDefault(),"IMG"===e.target.tagName){var t={id:e.target.parentElement.parentElement.parentElement.dataset.id,backdropImage:e.target.parentElement.parentElement.href,popularity:e.target.parentElement.dataset.popularity,about:e.target.alt,originalTitle:e.target.nextElementSibling.children[0].dataset.title,title:e.target.nextElementSibling.children[0].innerText,genre_ids:e.target.nextElementSibling.children[0].nextElementSibling.children[0].dataset.genre,release_date:e.target.nextElementSibling.children[0].nextElementSibling.children[0].children[0].dataset.year,vote:e.target.nextElementSibling.children[0].nextElementSibling.children[1].innerText,voteCount:e.target.nextElementSibling.children[0].nextElementSibling.children[1].dataset.count},n=document.createElement("div");n.className="overlay",document.body.insertAdjacentElement("afterbegin",n),function(e){var t=e.id,n=e.backdropImage,i=e.popularity,l=e.about,r=e.originalTitle,o=e.title,d=e.release_date,c=e.genre_ids,s=e.vote,m=e.voteCount,u='\n        <div class="modal-container">\n            <div class="modal-close">&times;</div>\n            <div class="modal-content" data-id="'.concat(t,'">\n                <div class="modal-image">\n                    <img src="').concat(n,'" alt="movie photo">\n                </div>\n                <div class="modal-details" data-year="').concat(d,'">\n                    <ul class="modal-list">\n                        <li class="modal-item">\n                            <h1 class="movie-title">').concat(o.toUpperCase(),'</h1>\n                        </li>\n                        <li class="modal-item">\n                            <p class="modal-header">vote/votes</p>\n                            <p><span class="modal-rating">').concat(s,"</span> / ").concat(m,'</p>\n                        </li>\n                        <li class="modal-item">\n                            <p class="modal-header">popularity</p>\n                            <p>').concat(i,'</p>\n                        </li>\n                        <li class="modal-item">\n                            <p class="modal-header">title</p>\n                            <p>').concat(r.toUpperCase(),'</p>\n                        </li>\n                        <li class="modal-item">\n                            <p class="modal-header">genre</p>    \n                            <p>').concat(c,'</p>\n                        </li>\n                    </ul>\n                    <div class="modal-about">\n                        <h4>ABOUT</h4>\n                        <p>').concat(l,'</p>\n                    </div>\n                    <div class="modal-buttons">\n                        <button type="button" class="modal-button" data-button="watched">add to watched</button>\n                        <button type="button" class="modal-button" data-button="queue">add to queue</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ');a[0].insertAdjacentHTML("beforeend",u),function(){var e=document.querySelector(".modal-container");if(e){"dark"==localStorage.getItem("data-theme")?(e.setAttribute("data-theme","dark"),document.querySelectorAll(".modal-header").forEach((function(e){return e.setAttribute("data-theme","dark")})),document.querySelectorAll(".modal-button").forEach((function(e){return e.setAttribute("data-theme","dark")}))):(e.setAttribute("data-theme","light"),document.querySelectorAll(".modal-header").forEach((function(e){return e.setAttribute("data-theme","light")})),document.querySelectorAll(".modal-button").forEach((function(e){return e.setAttribute("data-theme","light")})))}}()}(t),function(e){var t=JSON.parse(localStorage.getItem("watchList")),n=JSON.parse(localStorage.getItem("queueList")),i=document.querySelector(".modal-container"),a=i.children[1].children[1].children[2].children[0],l=i.children[1].children[1].children[2].children[1];0!=t.length&&t.forEach((function(t){t.id===e&&(a.innerText="remove from watched",a.classList.add("selected"))}));0!=n.length&&n.forEach((function(t){t.id===e&&(l.innerText="remove from queue",l.classList.add("selected"))}))}(t.id)}}function r(e,t){var n=JSON.parse(localStorage.getItem(t)),i=!1,a=!0,l=!1,r=void 0;try{for(var o,d=n[Symbol.iterator]();!(a=(o=d.next()).done);a=!0){o.value.id==e.id&&(i=!0)}}catch(e){l=!0,r=e}finally{try{a||null==d.return||d.return()}finally{if(l)throw r}}!1===i&&(n.push(e),localStorage.setItem(t,JSON.stringify(n)))}function o(e,t){var n=JSON.parse(localStorage.getItem(t));n.filter((function(t){return t.id==e})).map((function(e){var i=n.indexOf(e);n.splice(i,1),localStorage.setItem(t,JSON.stringify(n))}))}i.addEventListener("click",l),document.addEventListener("click",(function(e){e.target.classList.contains("modal-close")&&(a[0].children[0].classList.add("close-animation"),setTimeout((function(){a[0].remove()}),450),t=document.querySelector(".ml-buttons .ml-button.active"),t&&t.click());var t;if(e.target.classList.contains("modal-button")){var n=e.target.parentElement.previousElementSibling.previousElementSibling.children[1].children[1].innerText;n=n.split("/");var i={id:e.target.parentElement.previousElementSibling.previousElementSibling.parentElement.parentElement.dataset.id,poster_path:e.target.parentElement.previousElementSibling.previousElementSibling.parentElement.previousElementSibling.children[0].src,release_date:e.target.parentElement.previousElementSibling.previousElementSibling.parentElement.previousElementSibling.nextElementSibling.dataset.year,title:e.target.parentElement.previousElementSibling.previousElementSibling.children[0].children[0].innerText,vote_average:n[0],vote_count:n[1],popularity:e.target.parentElement.previousElementSibling.previousElementSibling.children[2].children[1].innerText,original_title:e.target.parentElement.previousElementSibling.previousElementSibling.children[3].children[1].innerText,genre_ids:e.target.parentElement.previousElementSibling.previousElementSibling.children[4].children[1].innerText,overview:e.target.parentElement.previousElementSibling.children[1].innerText};"watched"===e.target.dataset.button&&("ADD TO WATCHED"===e.target.innerText?(r(i,"watchList"),e.target.innerText="remove from watched",o(i.id,"queueList"),e.target.nextElementSibling.innerText="add to queue",e.target.classList.add("selected")):(o(i.id,"watchList"),e.target.innerText="add to watched",e.target.classList.remove("selected")),e.target.nextElementSibling.classList.contains("selected")&&e.target.nextElementSibling.classList.remove("selected")),"queue"===e.target.dataset.button&&("ADD TO QUEUE"===e.target.innerText?(r(i,"queueList"),e.target.innerText="remove from queue",o(i.id,"watchList"),e.target.previousElementSibling.innerText="add to watched",e.target.classList.add("selected")):(o(i.id,"queueList"),e.target.innerText="add to queue",e.target.classList.remove("selected")),e.target.previousElementSibling.classList.contains("selected")&&e.target.previousElementSibling.classList.remove("selected"))}}))})),a("79hBg")}();
//# sourceMappingURL=index.3947e0cc.js.map
