!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequire902a;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequire902a=a);var o,i,c=a("bpxeT"),s=a("2TvXO"),l=a("7Omtz"),p=l.params.option,u=p.language,d=p.key,f=document.querySelector(".movie-list"),v=document.getElementById("pagination-links"),m=document.getElementById("prev"),h=document.getElementById("next"),g=20,x=1;function y(e,t){return w.apply(this,arguments)}function w(){return(w=e(c)(e(s).mark((function t(n,r){var a;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(l.BASE_URL,"/trending/movie/day?api_key=").concat(d,"&language=").concat(u,"&page=").concat(n,"&page_size=").concat(r));case 3:return e.sent,e.next=6,response.json();case 6:a=e.sent,movieData=a.results.map((function(e){return{title:e.title,poster_path:e.poster_path,genre:e.genre_ids.map((function(e){return genreMap[e]})),year:e.release_date?new Date(e.release_date).getFullYear():"N/A"}})),T(movieData,list,itemsPerPage,1),D(movieData,paginationLinksWrapper,itemsPerPage),e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(0),console.error("Error fetching movies for page ".concat(n,":"),e.t0),e.t0;case 16:case"end":return e.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}function k(){return E.apply(this,arguments)}function E(){return(E=e(c)(e(s).mark((function t(){var n;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y(x,1===x?20:50);case 3:n=e.sent,g=n.total_pages,L(n.results),M(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching or displaying movies:",e.t0);case 12:case"end":return e.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function b(e){return _.apply(this,arguments)}function _(){return(_=e(c)(e(s).mark((function t(n){var r,a;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetchGenres();case 3:return r=e.sent,a=r.filter((function(e){return n.includes(e.id)})).map((function(e){return e.name})),e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),console.error("Error getting genres:",e.t0),e.t0;case 12:case"end":return e.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function L(e){return C.apply(this,arguments)}function C(){return(C=e(c)(e(s).mark((function t(n){var r,a,o,i,c,l,p,u,d,v,m,h,g,x,y,w,k,E,_;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.innerHTML="",r=!0,a=!1,o=void 0,e.prev=2,i=n[Symbol.iterator]();case 4:if(r=(c=i.next()).done){e.next=22;break}return l=c.value,p=l.id,u=l.popularity,d=l.poster_path,v=l.original_title,m=l.title,h=l.release_date,g=l.overview,x=l.genre_ids,y=l.vote_average,w=l.vote_count,e.prev=7,e.next=10,b(x);case 10:k=e.sent,E=h.split("-"),_='\n        <li class="movie-item" data-id='.concat(p,'>\n          <a href="https://image.tmdb.org/t/p/w500/').concat(d,'" class="movie-link">\n            <div class="movie-card" data-popularity=').concat(u.toFixed(1),'>\n              <img src="https://image.tmdb.org/t/p/w500/').concat(d,'" alt="').concat(g,'">\n              <div class="movie-details">\n                <p class="movie-title" data-title="').concat(v,'">').concat(m,"</p>\n                <span>").concat(k.map((function(e){return" ".concat(e)})),'</span>\n                <span data-year="').concat(E[0],'">| ').concat(E[0],'</span>\n                <p data-count="').concat(w,'">').concat(y.toFixed(1),"</p>\n              </div>\n            </div>\n          </a>\n        </li>\n      "),f.insertAdjacentHTML("afterbegin",_),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(7),console.error("Error creating movie cards:",e.t0);case 19:r=!0,e.next=4;break;case 22:e.next=28;break;case 24:e.prev=24,e.t1=e.catch(2),a=!0,o=e.t1;case 28:e.prev=28,e.prev=29,r||null==i.return||i.return();case 31:if(e.prev=31,!a){e.next=34;break}throw o;case 34:return e.finish(31);case 35:return e.finish(28);case 36:case"end":return e.stop()}}),t,null,[[2,24,28,36],[7,16],[29,,31,35]])})))).apply(this,arguments)}function M(){v.innerHTML="";for(var e=Math.max(1,Math.min(x-4,g-9)),t=Math.min(e+9,g),n=e;n<=t;n++)console.error("Error fetching movie data:",error)}function T(e,t,n,r){t.innerHTML="";for(var a=n*--r,o=a+n,i=e.slice(a,o),c=0;c<i.length;c++){var s=i[c],l=document.createElement("li"),p=document.createElement("img");p.src=imageBaseUrl+s.poster_path,p.alt=s.title,p.style.borderRadius="5px",l.appendChild(p);var u=document.createElement("div");u.textContent=s.title,l.appendChild(u);var d=document.createElement("div");d.style.display="flex";var f=document.createElement("div");f.textContent=s.genre.join(", "),f.style.color="#ff6b08",d.appendChild(f);var v=document.createElement("span");v.textContent=" | ",v.style.color="#ff6b08",d.appendChild(v);var m=document.createElement("div");m.textContent=s.year,m.style.color="#ff6b08",d.appendChild(m),l.appendChild(d),t.appendChild(l)}}function D(e,t,n){t.innerHTML="";for(var r=Math.ceil(e.length/n),a=1;a<=r;a++)a===x&&link.classList.add("active"),link.addEventListener("click",(function(e){e.preventDefault(),x=parseInt(this.textContent),k()})),v.appendChild(link)}m.addEventListener("click",(function(){x>10?x-=10:x=1,k()})),h.addEventListener("click",(function(){x+10<=g?x+=10:x=g,k()})),window.addEventListener("DOMContentLoaded",k),o=localStorage.getItem("watchList"),i=localStorage.getItem("queueList"),null!==o&&0!==o.length||localStorage.setItem("watchList","[]"),null!==i&&0!==o.length||localStorage.setItem("queueList","[]"),M()}();
//# sourceMappingURL=index.5bc13ff9.js.map
