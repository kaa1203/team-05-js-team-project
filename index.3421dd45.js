var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequire902a;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,a.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequire902a=a);var o=a("9hI1i");const{language:i,key:r}=o.params.option,s=document.querySelector(".movie-list"),c=document.getElementById("pagination-links"),l=document.getElementById("prev"),d=document.getElementById("next");let p=20,g=1;async function u(){try{const e=await async function(e,t){try{const n=await fetch(`${o.BASE_URL}/trending/movie/day?api_key=${r}&language=${i}&page=${e}&page_size=${t}`);return await n.json()}catch(t){throw console.error(`Error fetching movies for page ${e}:`,t),t}}(g,1===g?20:50);p=e.total_pages,async function(e){s.innerHTML="";for(const t of e){const{id:e,popularity:n,poster_path:a,original_title:o,title:i,release_date:r,overview:c,genre_ids:l,vote_average:d,vote_count:p}=t;try{const t=await f(l),g=r.split("-"),u=`\n        <li class="movie-item" data-id=${e}>\n          <a href="https://image.tmdb.org/t/p/w500/${a}" class="movie-link">\n            <div class="movie-card" data-popularity=${n.toFixed(1)}>\n              <img src="https://image.tmdb.org/t/p/w500/${a}" alt="${c}">\n              <div class="movie-details">\n                <p class="movie-title" data-title="${o}">${i}</p>\n                <span>${t.map((e=>` ${e}`))}</span>\n                <span data-year="${g[0]}">| ${g[0]}</span>\n                <p data-count="${p}">${d.toFixed(1)}</p>\n              </div>\n            </div>\n          </a>\n        </li>\n      `;s.insertAdjacentHTML("afterbegin",u)}catch(e){console.error("Error creating movie cards:",e)}}}(e.results),m()}catch(e){console.error("Error fetching or displaying movies:",e)}}async function f(e){try{const t=await async function(){try{const e=await fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${r}`);return(await e.json()).genres}catch(e){throw console.error("Error fetching genres:",e),e}}();return t.filter((t=>e.includes(t.id))).map((e=>e.name))}catch(e){throw console.error("Error getting genres:",e),e}}function m(){let e,t;c.innerHTML="",g%10==1?(e=g,t=Math.min(g+9,p)):(e=10*Math.floor((g-1)/10)+1,t=Math.min(e+9,p));for(let n=e;n<=t;n++){const e=document.createElement("a");e.href="#",e.textContent=n,n===g&&e.classList.add("active"),e.addEventListener("click",(function(e){e.preventDefault(),g=parseInt(this.textContent),u()})),c.appendChild(e)}}l.addEventListener("click",(function(){g>10?g-=10:g=1,u()})),d.addEventListener("click",(function(){g+10<=p?g+=10:g=1,u()})),window.addEventListener("DOMContentLoaded",u),function(){let e=localStorage.getItem("watchList"),t=localStorage.getItem("queueList");null!==e&&0!==e.length||localStorage.setItem("watchList","[]"),null!==t&&0!==t.length||localStorage.setItem("queueList","[]")}(),m(),c.insertBefore(c.children[9],null);
//# sourceMappingURL=index.3421dd45.js.map
