{"mappings":"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","sources":["src/movie-modal.js"],"sourcesContent":["const movieCon = document.querySelector(\".movie-list\");\nconst overlay = document.getElementsByClassName(\"overlay\");\n\nmovieCon.addEventListener(\"click\", movieClicked);\ndocument.addEventListener(\"click\", onClick);\n\nfunction movieClicked(e) {\n    e.preventDefault();\n    if (e.target.tagName === \"IMG\") {\n        const movieDetails = {\n            id: e.target.parentElement.parentElement.parentElement.dataset.id,\n            backdropImage: e.target.parentElement.parentElement.href,\n            popularity: e.target.parentElement.dataset.popularity,\n            about: e.target.alt,\n            originalTitle: e.target.nextElementSibling.children[0].dataset.title,\n            title: e.target.nextElementSibling.children[0].innerText,\n            genre: e.target.nextElementSibling.children[0].nextElementSibling.innerText,\n            release: e.target.nextElementSibling.children[0].nextElementSibling.nextElementSibling.dataset.year,\n            vote: e.target.nextElementSibling.children[0].nextElementSibling.nextElementSibling.nextElementSibling.innerText,\n            voteCount: e.target.nextElementSibling.children[0].nextElementSibling.nextElementSibling.nextElementSibling.dataset.count,\n        }\n        let overlay = document.createElement(\"div\");\n        overlay.className = \"overlay\";\n        document.body.insertAdjacentElement(\"afterbegin\", overlay);\n        createModal(movieDetails);\n    }\n}\n\nfunction createModal(movieDetails) {\n    const {\n        id,\n        backdropImage,\n        popularity,\n        about,\n        originalTitle,\n        title,\n        genre,\n        vote,\n        voteCount } = movieDetails;\n    let modal = `\n        <div class=\"modal-container\">\n            <div class=\"modal-close\">&times;</div>\n            <div class=\"modal-content\" data-id=\"${id}\">\n                <div class=\"modal-image\">\n                    <img src=\"${backdropImage}\" alt=\"movie photo\">\n                </div>\n                <div class=\"modal-details\">\n                    <ul class=\"modal-list\">\n                        <li class=\"modal-item\">\n                            <h1 class=\"movie-title\">${title.toUpperCase()}</h1>\n                        </li>\n                        <li class=\"modal-item\">\n                            <p class=\"modal-header\">vote/votes</p>\n                            <p><span class=\"modal-rating\">${vote}</span> / ${voteCount}</p>\n                        </li>\n                        <li class=\"modal-item\">\n                            <p class=\"modal-header\">popularity</p>\n                            <p>${popularity}</p>\n                        </li>\n                        <li class=\"modal-item\">\n                            <p class=\"modal-header\">title</p>\n                            <p>${originalTitle.toUpperCase()}</p>\n                        </li>\n                        <li class=\"modal-item\">\n                            <p class=\"modal-header\">genre</p>    \n                            <p>${genre}</p>\n                        </li>\n                    </ul>\n                    <div class=\"modal-about\">\n                        <h4>ABOUT</h4>\n                        <p>${about}</p>\n                    </div>\n                    <div class=\"modal-buttons\">\n                        <button class=\"modal-button\" data-button=\"watched\">add to watched</button>\n                        <button class=\"modal-button\" data-button=\"queue\">add to queue</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `;\n    overlay[0].insertAdjacentHTML(\"beforeend\", modal);\n}\n\nfunction onClick(e) {\n    if (e.target.classList.contains(\"overlay\") || e.target.classList.contains(\"modal-close\")) {\n        overlay[0].remove();\n    }\n\n    if (e.target.classList.contains(\"modal-button\")) {\n        // will be back to this later once i find a much better approach to this\n        const movieData = {\n            id: e.target.parentElement.previousElementSibling.previousElementSibling.parentElement.parentElement.dataset.id,\n            imgURL: e.target.parentElement.previousElementSibling.previousElementSibling.parentElement.previousElementSibling.children[0].src,\n            title: e.target.parentElement.previousElementSibling.previousElementSibling.children[0].children[0].innerText,\n            votes: e.target.parentElement.previousElementSibling.previousElementSibling.children[1].children[1].innerText,\n            popularity: e.target.parentElement.previousElementSibling.previousElementSibling.children[2].children[1].innerText,\n            originalTitle: e.target.parentElement.previousElementSibling.previousElementSibling.children[3].children[1].innerText,\n            genre: e.target.parentElement.previousElementSibling.previousElementSibling.children[4].children[1].innerText,\n            about: e.target.parentElement.previousElementSibling.children[1].innerText\n        }\n\n        if (e.target.dataset.button === \"watched\") {\n            addToList(movieData, \"watchList\");\n        }\n\n        if (e.target.dataset.button === \"queue\") {\n            addToList(movieData, \"queueList\");\n        }\n    }\n}\n\nfunction addToList(movieData, list) {\n    let listStorage = JSON.parse(localStorage.getItem(list));\n    let onList = false\n\n    for (const movie of listStorage) {\n        if (movie.id == movieData.id) {\n            onList = true;\n        }\n    }\n\n    if (onList === false) {\n        listStorage.push(movieData);\n        localStorage.setItem(list, JSON.stringify(listStorage));\n    }\n}"],"names":["$534706aecfa739c3$var$movieCon","document","querySelector","$534706aecfa739c3$var$overlay","getElementsByClassName","$534706aecfa739c3$var$addToList","movieData","list","listStorage","JSON","parse","localStorage","getItem","onList","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","value","id","err","return","push","setItem","stringify","addEventListener","e","preventDefault","target","tagName","movieDetails","parentElement","dataset","backdropImage","href","popularity","about","alt","originalTitle","nextElementSibling","children","title","innerText","genre","release","year","vote","voteCount","count","overlay1","createElement","className","body","insertAdjacentElement","modal","concat","toUpperCase","insertAdjacentHTML","$534706aecfa739c3$var$createModal","classList","contains","remove","previousElementSibling","imgURL","src","votes","button"],"version":3,"file":"index.0c693f97.js.map"}