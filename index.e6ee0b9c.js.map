{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,uCAG0CC,EAAAC,EAAAC,OAAOC,OAA3CC,EAAoCJ,EAApCK,SAAUC,EAA0BN,EAA1BO,IAAKC,EAAqBR,EAArBS,cAAeC,EAAMV,EAANW,EAG9BC,EAAYC,SAASC,cAAc,aACnCC,EAAaF,SAASC,cAAc,c,SAO3BE,I,OAAAA,EAAfC,EAAAnB,EAAA,CAAAmB,EAAAC,GAAAC,MAAA,SAAAC,EAA4BC,G,IAEhBC,EAIAC,EACAC,E,yEANRH,EAAEI,iBACIH,EAAiBD,EAAEK,OAAjBJ,WACRZ,EAAIY,EAAWK,M,kBAGMC,MAAM,GAAoCC,OAAjC5B,EAAA6B,SAAS,0BAAwCD,OAAhBvB,EAAI,cAA8BuB,OAAlBzB,EAAS,WAA4ByB,OAAnBnB,EAAE,mBAA+BmB,OAAdrB,I,cAA5Ge,EAAGQ,EAAAC,K,SACUT,EAAIU,O,OAAjBT,EAAIO,EAAAC,MACR,EAAAE,EAAAC,aAAYX,EAAKY,SAAS,GAC1BC,QAAQC,IAAId,G,kDAEZa,QAAQC,IAAGP,EAAAQ,I,2DAXQC,MAAAC,KAAAC,U,CAL3B3B,EAAW4B,iBAAiB,SA+B5B,WACI,IAAIC,EAAY7B,EAAW8B,uBAAuBA,uBAElDD,EAAUjB,MAAQ,GAClBiB,EAAUE,QACVL,KAAKM,UAAUC,IAAI,Y,IAnCvBpC,EAAU+B,iBAAiB,U,SAICtB,G,OAAbL,EAAYwB,MAAAC,KAAAC,U,IAH3B9B,EAAU+B,iBAAiB,SAkB3B,SAAiBtB,GAGK,KAFFA,EAAEK,OAAOC,MAGrBZ,EAAWgC,UAAUE,OAAO,aAE5BlC,EAAWgC,UAAUC,IAAI,Y","sources":["src/search.js"],"sourcesContent":["import { BASE_URL, params } from \"./themoviedb-api.js\";\nimport { createCards, movieGalleryEl } from \"./index.js\";\n\nlet { language, key, include_adult, q } = params.option;\n\n\nconst navFormEl = document.querySelector(\".nav-form\");\nconst delInputEl = document.querySelector(\".del-input\");\n\ndelInputEl.addEventListener(\"click\", delClicked);\nnavFormEl.addEventListener(\"submit\", searchMovies); \nnavFormEl.addEventListener(\"keyup\", onInput);\n\n// still shows \"sussy\" movies even the include_adult was set to false\nasync function searchMovies(e) {\n    e.preventDefault();\n    const { search_bar } = e.target;\n    q = search_bar.value;\n\n    try {\n        let res =  await fetch(`${BASE_URL}/search/movie?api_key=${key}&language=${language}&query=${q}&include_adult=${include_adult}`);\n        let data = await res.json();\n        createCards(data.results, true);\n        console.log(data)\n    } catch (e) {\n        console.log(e);\n    } \n}\n\nfunction onInput(e) {\n    let userInput = e.target.value;\n\n    if (userInput !== \"\") {\n        delInputEl.classList.remove(\"is-hidden\");\n    } else {\n        delInputEl.classList.add(\"is-hidden\");\n    }\n\n}\n\nfunction delClicked() {\n    let userInput = delInputEl.previousElementSibling.previousElementSibling;\n\n    userInput.value = \"\";\n    userInput.focus();\n    this.classList.add(\"is-hidden\");\n}\n"],"names":["$bpxeT","parcelRequire","$505a3f792ff2e6a9$var$_option","$7Omtz","params","option","$505a3f792ff2e6a9$var$language","language","$505a3f792ff2e6a9$var$key","key","$505a3f792ff2e6a9$var$include_adult","include_adult","$505a3f792ff2e6a9$var$q","q","$505a3f792ff2e6a9$var$navFormEl","document","querySelector","$505a3f792ff2e6a9$var$delInputEl","$505a3f792ff2e6a9$var$_searchMovies","$parcel$interopDefault","$2TvXO","mark","_callee","e","search_bar","res","data","preventDefault","target","value","fetch","concat","BASE_URL","_ctx","sent","json","$fSCrk","createCards","results","console","log","t0","apply","this","arguments","addEventListener","userInput","previousElementSibling","focus","classList","add","remove"],"version":3,"file":"index.e6ee0b9c.js.map"}